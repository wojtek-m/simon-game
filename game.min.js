function Game(){}$("#element0").on("click",function(){simonGame.processUserClick(0)}),$("#element1").on("click",function(){simonGame.processUserClick(1)}),$("#element2").on("click",function(){simonGame.processUserClick(2)}),$("#element3").on("click",function(){simonGame.processUserClick(3)}),$("#play").on("click",function(){simonGame.displaySeries()}),$("#reset").on("click",function(){simonGame.restartGame()}),$("#new").on("click",function(){simonGame.restartGame(),simonGame.displaySeries()});var displayFeedback=document.getElementById("feedback"),displayStage=document.getElementById("stage"),sound=new Audio,SERIES_LENGTH=20,DELAY1=1e3,DELAY2=2e3,SPEED=1e3,SPEED_MULTIPLIER=.85,speedUp=[0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0],simonGame=new Game;Game.prototype.generateSeries=function(){for(var e=SERIES_LENGTH;e>0;e--)gameSeries.push(this.generateRandomNumber())},Game.prototype.updateGameStage=function(){gameStage+=1},Game.prototype.displaySeries=function(){var e=0;gameActive=!1,feedback="Displaying round "+gameStage,this.updateView();for(var t=gameStage;t>0;t--){var a=gameSeries[e];this.displayElement(a,e),e+=1}setTimeout(function(){gameActive=!0},SPEED*speedIncrease*e)},Game.prototype.displayElement=function(e,t){setTimeout(function(){sound.src="sounds/animal_short"+e+".wav",sound.volume=.3,sound.play();$("#element"+e).effect("shake",{direction:"right",times:3,distance:1},50)},SPEED*speedIncrease*t)},Game.prototype.processUserClick=function(e){gameActive&&(this.displayElement(e),this.checkUserAnswer(e)?(speedModeActive&&speedUp[gameStage]&&this.increaseSpeed(SPEED_MULTIPLIER),gameStage===clickStage+1?gameStage===SERIES_LENGTH?(feedback="You have WON, congratulations!",this.updateView()):(feedback="Correct! Next round.",this.updateGameStage(),this.resetClickStage(),this.updateView(),gameActive=!1,game=this,setTimeout(function(){game.displaySeries(),game.gameActive=!0},DELAY2)):(feedback="Good so far, keep going.",this.updateClickStage(),this.updateView())):hardcoreModeActive?(this.restartGame(),feedback="Wrong, GAME OVER! You can start a new game.",this.updateView()):(feedback="Wrong, please try again.",this.resetClickStage(),this.updateView(),game=this,gameActive=!1,setTimeout(function(){game.displaySeries(),game.gameActive=!0},DELAY2)))},Game.prototype.updateClickStage=function(){clickStage+=1},Game.prototype.resetClickStage=function(){clickStage=0},Game.prototype.checkUserAnswer=function(e){return e===gameSeries[clickStage]?!0:!1},Game.prototype.restartGame=function(){gameActive=!1,gameSeries=[],gameStage=1,clickStage=0,feedback="",speedIncrease=1,speedModeActive=!1,hardcoreModeActive=!1,this.generateSeries(),this.updateView()},Game.prototype.updateView=function(){displayFeedback.innerHTML=feedback,displayStage.innerHTML=gameStage},Game.prototype.generateRandomNumber=function(){return Math.floor(3.99*Math.random())},Game.prototype.increaseSpeed=function(e){speedIncrease=e},Game.prototype.toggleHardcoreMode=function(e){hardcoreModeActive=1===e?!0:!1},Game.prototype.toggleSpeedMode=function(e){speedModeActive=1===e?!0:!1},Game.prototype.displaySpeed=function(){console.log(speedIncrease)};